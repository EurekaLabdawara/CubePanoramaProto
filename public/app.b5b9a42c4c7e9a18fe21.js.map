{"version":3,"file":"app.b5b9a42c4c7e9a18fe21.js","mappings":"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","sources":["webpack://cube-demo-panorama/webpack/bootstrap","webpack://cube-demo-panorama/webpack/runtime/compat get default export","webpack://cube-demo-panorama/webpack/runtime/define property getters","webpack://cube-demo-panorama/webpack/runtime/hasOwnProperty shorthand","webpack://cube-demo-panorama/./src/index.js"],"sourcesContent":["// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import data from './data.js';\n\n/*\n * Copyright 2016 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n'use strict';\n\n(function() {\n  var Marzipano = window.Marzipano;\n  // var bowser = window.bowser;\n  var screenfull = window.screenfull;\n  var data = window.APP_DATA;\n\n  // Grab elements from DOM.\n  var panoElement = document.querySelector('#pano');\n  var sceneNameElement = document.querySelector('#titleBar .sceneName');\n  var sceneListElement = document.querySelector('#sceneList');\n  var sceneElements = document.querySelectorAll('#sceneList .scene');\n  var sceneListToggleElement = document.querySelector('#sceneListToggle');\n  var autorotateToggleElement = document.querySelector('#autorotateToggle');\n  var fullscreenToggleElement = document.querySelector('#fullscreenToggle');\n\n  // Detect desktop or mobile mode.\n  if (window.matchMedia) {\n    var setMode = function() {\n      if (mql.matches) {\n        document.body.classList.remove('desktop');\n        document.body.classList.add('mobile');\n      } else {\n        document.body.classList.remove('mobile');\n        document.body.classList.add('desktop');\n      }\n    };\n    var mql = matchMedia(\"(max-width: 500px), (max-height: 500px)\");\n    setMode();\n    mql.addListener(setMode);\n  } else {\n    document.body.classList.add('desktop');\n  }\n\n  // Detect whether we are on a touch device.\n  document.body.classList.add('no-touch');\n  window.addEventListener('touchstart', function() {\n    document.body.classList.remove('no-touch');\n    document.body.classList.add('touch');\n  });\n\n  // Use tooltip fallback mode on IE < 11.\n  // if (bowser.msie && parseFloat(bowser.version) < 11) {\n  //   document.body.classList.add('tooltip-fallback');\n  // }\n\n  // Viewer options.\n  var viewerOpts = {\n    controls: {\n      mouseViewMode: data.settings.mouseViewMode\n    }\n  };\n\n  // Initialize viewer.\n  var viewer = new Marzipano.Viewer(panoElement, viewerOpts);\n\n  // Create scenes.\n  var scenes = data.scenes.map(function(data) {\n    var urlPrefix = \"tiles\";\n    var source = Marzipano.ImageUrlSource.fromString(\n      urlPrefix + \"/\" + data.id + \"/{z}/{f}/{y}/{x}.jpg\",\n      { cubeMapPreviewUrl: urlPrefix + \"/\" + data.id + \"/preview.jpg\" });\n    var geometry = new Marzipano.CubeGeometry(data.levels);\n\n    var limiter = Marzipano.RectilinearView.limit.traditional(data.faceSize, 100*Math.PI/180, 120*Math.PI/180);\n    var view = new Marzipano.RectilinearView(data.initialViewParameters, limiter);\n\n    var scene = viewer.createScene({\n      source: source,\n      geometry: geometry,\n      view: view,\n      pinFirstLevel: true\n    });\n\n    // Create link hotspots.\n    data.linkHotspots.forEach(function(hotspot) {\n      var element = createLinkHotspotElement(hotspot);\n      scene.hotspotContainer().createHotspot(element, { yaw: hotspot.yaw, pitch: hotspot.pitch });\n    });\n\n    // Create info hotspots.\n    data.infoHotspots.forEach(function(hotspot) {\n      var element = createInfoHotspotElement(hotspot);\n      scene.hotspotContainer().createHotspot(element, { yaw: hotspot.yaw, pitch: hotspot.pitch });\n      if (!hotspot.custom) {\n      }else{\n        \n      }\n    });\n\n    return {\n      data: data,\n      scene: scene,\n      view: view\n    };\n  });\n\n  // Set up autorotate, if enabled.\n  var autorotate = Marzipano.autorotate({\n    yawSpeed: 0.03,\n    targetPitch: 0,\n    targetFov: Math.PI/2\n  });\n  if (data.settings.autorotateEnabled) {\n    autorotateToggleElement.classList.add('enabled');\n  }\n\n  // Set handler for autorotate toggle.\n  autorotateToggleElement.addEventListener('click', toggleAutorotate);\n\n  // Set up fullscreen mode, if supported.\n  if (screenfull.enabled && data.settings.fullscreenButton) {\n    document.body.classList.add('fullscreen-enabled');\n    fullscreenToggleElement.addEventListener('click', function() {\n      screenfull.toggle();\n    });\n    screenfull.on('change', function() {\n      if (screenfull.isFullscreen) {\n        fullscreenToggleElement.classList.add('enabled');\n      } else {\n        fullscreenToggleElement.classList.remove('enabled');\n      }\n    });\n  } else {\n    document.body.classList.add('fullscreen-disabled');\n  }\n\n  // Set handler for scene list toggle.\n  sceneListToggleElement.addEventListener('click', toggleSceneList);\n\n  // Start with the scene list open on desktop.\n  if (!document.body.classList.contains('mobile')) {\n    showSceneList();\n  }\n\n  // Set handler for scene switch.\n  scenes.forEach(function(scene) {\n    var el = document.querySelector('#sceneList .scene[data-id=\"' + scene.data.id + '\"]');\n    el.addEventListener('click', function() {\n      switchScene(scene);\n      // On mobile, hide scene list after selecting a scene.\n      if (document.body.classList.contains('mobile')) {\n        hideSceneList();\n      }\n    });\n  });\n\n  // DOM elements for view controls.\n  var viewUpElement = document.querySelector('#viewUp');\n  var viewDownElement = document.querySelector('#viewDown');\n  var viewLeftElement = document.querySelector('#viewLeft');\n  var viewRightElement = document.querySelector('#viewRight');\n  var viewInElement = document.querySelector('#viewIn');\n  var viewOutElement = document.querySelector('#viewOut');\n  var audioToggleElement = document.querySelector('#audioBtn');\n  var audio = document.querySelector('#BGM');\n\n  // Dynamic parameters for controls.\n  var velocity = 0.7;\n  var friction = 3;\n\n  // Associate view controls with elements.\n  var controls = viewer.controls();\n  controls.registerMethod('upElement',    new Marzipano.ElementPressControlMethod(viewUpElement,     'y', -velocity, friction), true);\n  controls.registerMethod('downElement',  new Marzipano.ElementPressControlMethod(viewDownElement,   'y',  velocity, friction), true);\n  controls.registerMethod('leftElement',  new Marzipano.ElementPressControlMethod(viewLeftElement,   'x', -velocity, friction), true);\n  controls.registerMethod('rightElement', new Marzipano.ElementPressControlMethod(viewRightElement,  'x',  velocity, friction), true);\n  controls.registerMethod('inElement',    new Marzipano.ElementPressControlMethod(viewInElement,  'zoom', -velocity, friction), true);\n  controls.registerMethod('outElement',   new Marzipano.ElementPressControlMethod(viewOutElement, 'zoom',  velocity, friction), true);\n\n  audioToggleElement.addEventListener('click', function () {\n    console.log(\"audio\", audio);\n    if (audio.muted) {\n      audio.muted = false\n      audio.play();\n    } else {\n      audio.muted = true\n      audio.pause();\n    }\n    console.log(\"audio new mute state\", audio.muted);\n    console.log('audio toggled');\n  });\n\n  // document.querySelector('#BGM').addEventListener(\"canplaythrough\", event => {\n  //   /* the audio is now playable; play it if permissions allow */\n  //   audio.play();\n  //   console.log('audio played')\n  // })\n\n  function sanitize(s) {\n    return s.replace('&', '&amp;').replace('<', '&lt;').replace('>', '&gt;');\n  }\n\n  function switchScene(scene) {\n    stopAutorotate();\n    scene.view.setParameters(scene.data.initialViewParameters);\n    scene.scene.switchTo();\n    startAutorotate();\n    updateSceneName(scene);\n    updateSceneList(scene);\n  }\n\n  function updateSceneName(scene) {\n    sceneNameElement.innerHTML = sanitize(scene.data.name);\n  }\n\n  function updateSceneList(scene) {\n    for (var i = 0; i < sceneElements.length; i++) {\n      var el = sceneElements[i];\n      if (el.getAttribute('data-id') === scene.data.id) {\n        el.classList.add('current');\n      } else {\n        el.classList.remove('current');\n      }\n    }\n  }\n\n  function showSceneList() {\n    sceneListElement.classList.add('enabled');\n    sceneListToggleElement.classList.add('enabled');\n  }\n\n  function hideSceneList() {\n    sceneListElement.classList.remove('enabled');\n    sceneListToggleElement.classList.remove('enabled');\n  }\n\n  function toggleSceneList() {\n    sceneListElement.classList.toggle('enabled');\n    sceneListToggleElement.classList.toggle('enabled');\n  }\n\n  function startAutorotate() {\n    if (!autorotateToggleElement.classList.contains('enabled')) {\n      return;\n    }\n    viewer.startMovement(autorotate);\n    viewer.setIdleMovement(3000, autorotate);\n  }\n\n  function stopAutorotate() {\n    viewer.stopMovement();\n    viewer.setIdleMovement(Infinity);\n  }\n\n  function toggleAutorotate() {\n    if (autorotateToggleElement.classList.contains('enabled')) {\n      autorotateToggleElement.classList.remove('enabled');\n      stopAutorotate();\n    } else {\n      autorotateToggleElement.classList.add('enabled');\n      startAutorotate();\n    }\n  }\n\n  function createLinkHotspotElement(hotspot) {\n\n    // Create wrapper element to hold icon and tooltip.\n    var wrapper = document.createElement('div');\n    wrapper.classList.add('hotspot');\n    wrapper.classList.add('link-hotspot');\n\n    // Create image element.\n    var icon = document.createElement('img');\n    icon.src = 'img/link.png';\n    icon.classList.add('link-hotspot-icon');\n\n    // Set rotation transform.\n    var transformProperties = [ '-ms-transform', '-webkit-transform', 'transform' ];\n    for (var i = 0; i < transformProperties.length; i++) {\n      var property = transformProperties[i];\n      icon.style[property] = 'rotate(' + hotspot.rotation + 'rad)';\n    }\n\n    // Add click event handler.\n    wrapper.addEventListener('click', function() {\n      switchScene(findSceneById(hotspot.target));\n    });\n\n    // Prevent touch and scroll events from reaching the parent element.\n    // This prevents the view control logic from interfering with the hotspot.\n    stopTouchAndScrollEventPropagation(wrapper);\n\n    // Create tooltip element.\n    var tooltip = document.createElement('div');\n    tooltip.classList.add('hotspot-tooltip');\n    tooltip.classList.add('link-hotspot-tooltip');\n    tooltip.innerHTML = findSceneDataById(hotspot.target).name;\n\n    wrapper.appendChild(icon);\n    wrapper.appendChild(tooltip);\n\n    return wrapper;\n  }\n\n  function createInfoHotspotElement(hotspot) {\n\n    // Create wrapper element to hold icon and tooltip.\n    var wrapper = document.createElement('div');\n    wrapper.classList.add('hotspot');\n    wrapper.classList.add('info-hotspot');\n\n    // Create hotspot/tooltip header.\n    var header = document.createElement('div');\n    header.classList.add('info-hotspot-header');\n\n    // Create image element.\n    var iconWrapper = document.createElement('div');\n    iconWrapper.classList.add('info-hotspot-icon-wrapper');\n    var icon = document.createElement('img');\n    icon.src = 'img/info.png';\n    icon.classList.add('info-hotspot-icon');\n    iconWrapper.appendChild(icon);\n    \n    // Create title element.\n    var titleWrapper = document.createElement('div');\n    titleWrapper.classList.add('info-hotspot-title-wrapper');\n    var title = document.createElement('div');\n    title.classList.add('info-hotspot-title');\n    title.innerHTML = hotspot.title;\n    titleWrapper.appendChild(title);\n\n    if (!hotspot.custom) {\n      // Create close element.\n      var closeWrapper = document.createElement('div');\n      closeWrapper.classList.add('info-hotspot-close-wrapper');\n      var closeIcon = document.createElement('img');\n      closeIcon.src = 'img/close.png';\n      closeIcon.classList.add('info-hotspot-close-icon');\n      closeWrapper.appendChild(closeIcon);\n    }\n\n\n    // Construct header element.\n    header.appendChild(iconWrapper);\n    header.appendChild(titleWrapper);\n    if (!hotspot.custom) {\n      header.appendChild(closeWrapper);\n    }\n\n    if (!hotspot.custom) {\n      // Create text element.\n      var text = document.createElement('div');\n      text.classList.add('info-hotspot-text');\n      text.innerHTML = hotspot.text;\n    }\n\n    // Place header and text into wrapper element.\n    wrapper.appendChild(header);\n    if (!hotspot.custom) {\n      // wrapper.appendChild(text);\n    }\n\n    // Create a modal for the hotspot content to appear on mobile mode.\n    var modal = document.createElement('div');\n    modal.innerHTML = wrapper.innerHTML;\n    modal.classList.add('info-hotspot-modal');\n    document.body.appendChild(modal);\n\n    \n    \n    if (!hotspot.custom) {\n      var toggle = function() {\n        wrapper.classList.toggle('visible');\n        modal.classList.toggle('visible');\n      };\n      // Show content when hotspot is clicked.\n      wrapper.querySelector('.info-hotspot-header').addEventListener('click', toggle);\n      // Hide content when close icon is clicked.\n      modal.querySelector('.info-hotspot-close-wrapper').addEventListener('click', toggle);\n    } else{\n      let customModal = document.querySelector('#modal')\n      wrapper.querySelector('.info-hotspot-header').addEventListener('click', function () {\n        customModal.querySelector('h1').innerHTML=hotspot.title\n        customModal.querySelectorAll('.custom-modal-content').forEach(element => {\n          element.hidden = true          \n        });\n        switch (hotspot.type) {\n          case 'youtube':\n            customModal.querySelector('iframe').hidden=false\n            customModal.querySelector('iframe').src=hotspot.link\n              break;\n          case 'pdf':\n            customModal.querySelector('#pdf-viewer').hidden=false\n            customModal.querySelector('#pdf-viewer').setAttribute('src',hotspot.link)\n            break;\n          case 'image':\n            customModal.querySelector('img').hidden=false\n            \n            break;\n        \n          default:\n            break;\n        }\n\n        customModal.showModal()\n      });\n      customModal.querySelector('.close-custom-modal').addEventListener('click', function () {\n        customModal.querySelectorAll('.custom-modal-content').hidden = true\n        // customModal.classList.add('hide')\n        // customModal.addEventListener('webkitAnimationEnd', function(){\n          customModal.classList.remove('hide');\n          customModal.close();\n          // customModal.removeEventListener('webkitAnimationEnd',  arguments.callee, false);\n      // }, false);\n      });\n    }\n\n\n    // Prevent touch and scroll events from reaching the parent element.\n    // This prevents the view control logic from interfering with the hotspot.\n    stopTouchAndScrollEventPropagation(wrapper);\n\n    return wrapper;\n  }\n\n  // Prevent touch and scroll events from reaching the parent element.\n  function stopTouchAndScrollEventPropagation(element, eventList) {\n    var eventList = [ 'touchstart', 'touchmove', 'touchend', 'touchcancel',\n                      'wheel', 'mousewheel' ];\n    for (var i = 0; i < eventList.length; i++) {\n      element.addEventListener(eventList[i], function(event) {\n        event.stopPropagation();\n      });\n    }\n  }\n\n  function findSceneById(id) {\n    for (var i = 0; i < scenes.length; i++) {\n      if (scenes[i].data.id === id) {\n        return scenes[i];\n      }\n    }\n    return null;\n  }\n\n  function findSceneDataById(id) {\n    for (var i = 0; i < data.scenes.length; i++) {\n      if (data.scenes[i].id === id) {\n        return data.scenes[i];\n      }\n    }\n    return null;\n  }\n\n  // Display the initial scene.\n  switchScene(scenes[0]);\n\n})();\n"],"names":["__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Marzipano","window","screenfull","data","APP_DATA","panoElement","document","querySelector","sceneNameElement","sceneListElement","sceneElements","querySelectorAll","sceneListToggleElement","autorotateToggleElement","fullscreenToggleElement","matchMedia","setMode","mql","matches","body","classList","remove","add","addListener","addEventListener","viewerOpts","controls","mouseViewMode","settings","viewer","Viewer","scenes","map","urlPrefix","source","ImageUrlSource","fromString","id","cubeMapPreviewUrl","geometry","CubeGeometry","levels","limiter","RectilinearView","limit","traditional","faceSize","Math","PI","view","initialViewParameters","scene","createScene","pinFirstLevel","linkHotspots","forEach","hotspot","element","wrapper","createElement","icon","src","transformProperties","i","length","property","style","rotation","switchScene","findSceneById","target","stopTouchAndScrollEventPropagation","tooltip","innerHTML","findSceneDataById","name","appendChild","createLinkHotspotElement","hotspotContainer","createHotspot","yaw","pitch","infoHotspots","header","iconWrapper","titleWrapper","title","custom","closeWrapper","closeIcon","text","modal","customModal","hidden","type","link","setAttribute","showModal","close","toggle","createInfoHotspotElement","autorotate","yawSpeed","targetPitch","targetFov","autorotateEnabled","contains","stopAutorotate","startAutorotate","enabled","fullscreenButton","on","isFullscreen","viewUpElement","viewDownElement","viewLeftElement","viewRightElement","viewInElement","viewOutElement","audioToggleElement","audio","setParameters","switchTo","replace","updateSceneName","el","getAttribute","updateSceneList","startMovement","setIdleMovement","stopMovement","Infinity","eventList","event","stopPropagation","registerMethod","ElementPressControlMethod","console","log","muted","play","pause"],"sourceRoot":""}